CONFIG_ARM_MPU=y
CONFIG_MAIN_STACK_SIZE=4096
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=4096
CONFIG_COMMON_LIBC_MALLOC_ARENA_SIZE=-1
CONFIG_HEAP_MEM_POOL_SIZE=32768

# Container defaults - Reduced for nRF5340's limited RAM
CONFIG_MAX_CONTAINERS=2
CONFIG_OCRE_WAMR_HEAP_BUFFER_SIZE=180000
CONFIG_OCRE_CONTAINER_DEFAULT_HEAP_SIZE=4096
CONFIG_OCRE_CONTAINER_DEFAULT_STACK_SIZE=4096

# DISABLE OCRE SHELL (this is what's causing the shell_fprintf errors!)
CONFIG_OCRE_SHELL=n

# Disable the main Zephyr shell AND all shell subsystems
CONFIG_NET_SHELL=n
CONFIG_FILE_SYSTEM_SHELL=n
CONFIG_SENSOR_SHELL=n

# Override shell-related configs from prj.conf since shell is disabled

# Random number generator (REQUIRED by networking and RNG sensor)
CONFIG_ENTROPY_GENERATOR=y
CONFIG_TEST_RANDOM_GENERATOR=y

# Reduce networking stack sizes to save RAM
CONFIG_NET_TX_STACK_SIZE=1024
CONFIG_NET_RX_STACK_SIZE=2048
CONFIG_NET_BUF_TX_COUNT=8
CONFIG_NET_BUF_RX_COUNT=16
CONFIG_NET_MGMT_EVENT_STACK_SIZE=1024
CONFIG_NET_PKT_RX_COUNT=8
CONFIG_NET_PKT_TX_COUNT=8
CONFIG_NET_BUF_DATA_SIZE=128

# Bus interfaces
CONFIG_GPIO=y

# Ocre Sensors support
CONFIG_SENSOR=y
CONFIG_OCRE_SENSORS=y
CONFIG_RNG_SENSOR=y

# Ocre GPIO Support (minimal)
CONFIG_OCRE_GPIO=y
CONFIG_OCRE_GPIO_MAX_PORTS=4
CONFIG_OCRE_GPIO_PINS_PER_PORT=8
CONFIG_OCRE_GPIO_MAX_PINS=32

# Disable container messaging to save RAM
CONFIG_OCRE_CONTAINER_MESSAGING=y

# Enable container filesystem for WASI stdio
CONFIG_OCRE_CONTAINER_FILESYSTEM=y

# CONFIG_BOOTLOADER_MCUBOOT=n
# # CONFIG_IMG_MANAGER=n
# CONFIG_MCUBOOT_IMG_MANAGER=n
# CONFIG_STREAM_FLASH=n
# CONFIG_IMG_ERASE_PROGRESSIVELY=n

# Flash settings
CONFIG_FLASH=y
CONFIG_FLASH_MAP=y
CONFIG_FLASH_PAGE_LAYOUT=y

# Serial/UART
CONFIG_SERIAL=y
CONFIG_UART_CONSOLE=y
CONFIG_CONSOLE=y

# Reduce other buffers
CONFIG_ZVFS_OPEN_MAX=8
CONFIG_ZVFS_EVENTFD_MAX=5

CONFIG_LOG_TRACE_SHORT_TIMESTAMP=n

CONFIG_SHELL_PROMPT_UART=""
